---
title: Linux et World of Warcraft, le retour de la vengeance
---

<p>Suite aux <a href="http://www.pikolint.org/~clark/blog/?2005/02/16/137-linux-et-world-of-warcraft#c94">commentaires de félash</a> et <a href="http://www.pikolint.org/~clark/blog/?2005/02/16/137-linux-et-world-of-warcraft#c93" hreflang="fr">de zahn</a>, ainsi qu'à quelques soucis avec le système de facturation de <a hreflang="en" href="http://www.transgaming.com/">Transgaming</a>, j'ai voulu voir ce que la version <a href="http://opengl.org/" hreflang="en">OpenGL</a> de World of Warcraft pouvait donner par rapport à <a href="http://www.pikolint.org/~clark/blog/?2005/02/16/137-linux-et-world-of-warcraft" hreflang="fr" title="Linux et World of Warcraft">la version DirectX</a>.</p><p>Il suffit de télécharger <a href="http://prdownloads.sourceforge.net/wine/Wine-20050310.tar.gz?download" hreflang="en">la dernière version des source de wine</a>, <a href="http://www.linux-gamers.net/modules/news/article.php?storyid=707" hreflang="en">pas besoin de patch</a> ou de quoi que ce soit d'autre (le patch a été intégré dans la branche principale de développement). Un petit <kbd>tar xvfz Wine-20050310.tar.gz</kbd> puis, depuis la racine des fichiers ainsi extraits, il faut impérativement exécuter <kbd>./configure --enable-opengl</kbd>. Ensuite, un simple <kbd>./tools/wineinstall</kbd> devrait bien marcher, du moins si tous les paquest nécessaires ont été installés.</p><p>Une petite astuce si vous aviez, comme moi, installé WoW sous Cedega : vous n'avez pas besoin de réinstaller, il vous suffit de faire un simple <kbd>ln -s /chemin_d_installation_sous_cedega/World\ of\ Warcraft World\ of\ Warcraft</kbd> depuis le répertoire <code>~/.wine/drive_c/Program Files/</code> et le tour est joué. Vous pouvez maintenant exécuter WoW avec un simple <kbd>wine WoW.exe -opengl</kbd>.</p><p>Autant vous le dire tout de suite, cela a été loin de marcher aussi bien la première fois pour moi. En fait, pas mal de soucis avec la configuration avec OpenGL. Le symptôme est que lorsque vous essayez de lancer WoW, vous avez <a href="http://www.linuxquestions.org/questions/history/298646" hreflang="en">le message suivant</a> : </p><blockquote><p><code>err:module:import_dll Library OPENGL32.dll (which is needed by L"C:\Program Files\World of Warcraft\WoW.exe") not found<br />err:module:LdrInitializeThunk Main exe initialization for L"C:\Program Files\World of Warcraft\WoW.exe" failed, status c0000135<br /></code></p></blockquote><p>Dans ce cas-là, vous devriez regarder la partie des logs de <kbd>./configure --enable-opengl</kbd> relative à l'openGL justement. Cela devrait ressembler à peu près à cela :</p><blockquote><p><code>checking GL/gl.h usability... yes<br />checking GL/gl.h presence... yes<br />checking for GL/gl.h... yes<br />checking GL/glx.h usability... yes<br />checking GL/glx.h presence... yes<br />checking for GL/glx.h... yes<br />checking for GL/glext.h... yes<br />checking for up-to-date OpenGL version... yes<br />checking for glXCreateContext in -lGL... yes<br />checking for gluLookAt in -lGLU... yes<br />checking for glutMainLoop in -lglut... yes<br /></code></p></blockquote><p>Si certaines lignes sont à <em>no</em>, c'est sans doute là qu'est le problème. Des pistes de solution sont dans un <a href="http://www.linuxquestions.org/questions/history/298646" hreflang="en">thread sur LinuxQuestions</a>. Je ne suis pas sûr de ce qui a marché exactement, mais j'ai installé ou réinstallé les paquest suivants : nvidia-glx-src, nvidia-kernel-src et nvidia-glx.</p><p>Alors sans plus attendre, la question que vous vous posez tous : "Faut-il que je passe à Wine si j'ai déjà Cedega ?". La réponse est <strong>oui</strong>, pour les raisons suivantes :</p><ul><li>L'openGL est <strong>beaucoup</strong> plus rapide. J'ai un gain de performance de l'ordre de 50 à 100%. Cela est sans doute dû au fait que la carte graphique est plus utilisée en openGL qu'en directX sous Linux.</li><li>De jolis effets de lumière sont maintenant visibles, sans doute toujours dûs au fait qu'openGL est mieux implémenté sous Linux.</li><li>Wine est, autant que je sache, 100% open source et gratuit, au contraire de Cedega.</li><li>Les accents dans les canaux de discussion sont maintenant supportés, ce qui confirme que c'était bien un bug de Cedega.</li></ul>
