---
title: Supervision de réseau
---

<p>Je cherchais un outil pour superviser mon serveur (et pourquoi pas mon mini-réseau local, on est geek ou on ne l'est pas ;) ). Dans l'idéal, la présentation devait être sous forme graphique, dans le genre de ce que peut donner <a href="http://pikolint.org/mrtg/index.php?name=pastis.pikolint.org" hreflang="fr"><acronym title="MRTG RRDtool Total Statistics" lang="en">MRTS</acronym></a>.</p><p>J'ai trouvé cet idéal avec <a href="http://www.linpro.no/projects/munin/" hreflang="en">Munin</a>, découvert grâce à l'excellent <a href="http://www.debian-administration.org/articles/229" hreflang="en" title="Monitoring systems with munin" lang="en">Debian Administration</a>, qui fonctionne sur le même principe (<a href="http://people.ee.ethz.ch/~oetiker/webtools/rrdtool/" hreflang="en">RRDtool</a>), mais s'installe de manière plus simple, et pour lequel un nombre conséquent de plugins est disponible. Pour l'installer sous Debian (avec sélection et configuration automatique de tous les plugins possibles sur votre système), tappez simplement <kbd>apt-get install munin munin-node</kbd> et le tour est joué. Sans configuration particulière, et si vous avez un serveur apache installé, vous devriez commencer à voir <a href="http://pikolint.org/munin/localdomain/localhost.localdomain.html" hreflang="en">les premiers graphiques</a> au bout de cinq minutes.</p><p>Une petite note pour les plugins apache (qui supervisent accès, processus, et bande-passante)&nbsp;; pour que celui-ci soit activé à l'installation et fonctionne, il faut que le module <a href="http://httpd.apache.org/docs/1.3/mod/mod_status.html" hreflang="en">mod_status</a> soit disponible, activé et que l'URL de supervision soit disponible pour le plugin. Cela veut dire (en gros pour Apache 1.3) trois choses :</p><ul><li>Il faut avoir quelque part (par exemple dans <code>/etc/apache/modules.conf</code>) une ligne du genre <code>LoadModule status_module /usr/lib/apache/1.3/mod_status.so</code>.</li><li>Il faut avoir quelque part (par exemple dans <code>/etc/apache/httpd.conf</code>) une ligne du genre <code>ExtendedStatus On</code>.</li><li>Il faut enfin autoriser le script à accéder à la page de status. Cela peut être fait à l'aide de la configuration suivante :<p><code>&lt;Location /server-status&gt;<br/>        SetHandler server-status<br/>        Order Deny,Allow<br/>        Deny from all<br/>        Allow from 127.0.0.1<br/>&lt;/Location&gt;<br/></code></p></li></ul><p>Pensez à faire cela avant d'installer Munin, de sorte que le plugin apache soit pris en compte directement à l'installation. Sinon, vous serez bon pour faire des liens symboliques entre <code>/etc/munin/plugins/</code> (les plugins sélectionnés) et <code>/usr/share/munin/plugins</code> (plugins disponibles par défaut). Il ne vous restera alors plus qu'à redémarrer (oui, c'est assez simple).</p>
