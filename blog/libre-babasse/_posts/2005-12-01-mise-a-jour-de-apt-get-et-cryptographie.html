---
title: Mise à jour de apt-get et cryptographie
---

<p>Vous avez peut-être commencé il y a peu à avoir ce genre de message lors de votre mise à jour de votre base de package (<kbd>apt-get update</kbd>) :</p>\r\n\r\n<blockquote><p><code>\r\nW: GPG error: ftp://ftp.tux.org sarge Release: Les signatures suivantes n'ont pas pu être vérifiées car la clé publique n'est pas disponible : NO_PUBKEY BB5E459A529B8BDA<br />\r\nW: Vous pouvez lancer « apt-get update » pour corriger ces problèmes.\r\n</code></p></blockquote>\r\n\r\n<p>Les dernières versions de apt-get supportent en effet la cryptographie. Cela vous permet donc de vérifier que la personne qui a packagé l'application que vous êtes sur le point d'installer est bien celle que vous croyez. Cela est fait en profitant de la puissance du réseau décentralisé de <a href="http://gnupg.org/" hreflang="fr">GnuPG</a> (ou alors même pas besoin si vous connaissez cette personne et que vous avez vérifié sa clé GnuPG).</p>\r\n\r\n<p>L'idée est donc de récupérer la clé publique de la personne qui est sensée faire le package de l'application <a href="http://pgp.mit.edu/" hreflang="en">sur un serveur de clé</a> ou encore <a href="http://www.blackdown.org/java-linux/java2-status/signature.html" hreflang="en" title="Blackdown Java-Linux OpenPGP Signature">directement sur le site</a>. Si vous l'avez récupérée sous forme de fichier, passez à l'étape suivante. Sinon, exportez-la sous forme de fichier (ça doit être l'option <code>--armor</code> ou <code>-a</code> de <code>gpg</code> je pense, ou alors utilisez <em>Export to File</em> dans <a href="http://laurent.cottereau.name/~clark/blog/?2005/09/03/168-gpgkeys" hreflang="fr">GPG Keys</a>). Pour finir, pour que <code>apt</code> reconnaisse cette clé, il faut entrer la commande suivante : <kbd>sudo apt-key add nom_du_fichier_contenant_la_cle.asc</kbd>.</p>\r\n\r\n<p>Ce qui me parait bizarre est qu'il suffit d'ajouter la clé pour que <code>apt</code> lui accorde foi, sans que l'on ait besoin de lui attribuer une confiance quelconque... Quelqu'un sait si c'est un paramétrage de <code>apt</code> ?</p>\r\n\r\n<p><em>Note</em> : pour info, l'exemple de ce billet est basé sur les packages du <a href="http://www.blackdown.org/java-linux/java2-status/jdk1.4-status.html#debs" hreflang="en" title="Java Platform 2 Version 1.4.x for Linux">java Blackdown</a>.</p>
