---
title: Linux et World of Warcraft l'histoire sans fin
---

<p>Argl, cela fait pas mal de temps que j'avais ce billet sur le feu, pour vous relater les dernières techniques de fourbes pour pouvoir installer world of warcraf, et puis bon... j'ai jamais fini. Alors je vous livre le truc pas très formaté, un peu en vrac, mais tout ce qui m'a permis de faire fonctionner world of warcraft chez moi (pour l'instant) est là dedans (ainsi que dans les <a title="Linux et World of Warcraft, le retour de la vengeance" href="http://www.pikolint.org/~clark/blog/?2005/03/18/140-linux-et-world-of-warcraft-le-retour-de-la-vengeance" hreflang="fr">deux</a> <a href="http://www.pikolint.org/~clark/blog/?2005/02/16/137-linux-et-world-of-warcraft" title="Linux et World of Warcraft" hreflang="fr">autres</a> billets que j'ai déjà écrit sur le sujet). Ca commence donc comme ça...</p>\r\n\r\n<p>Je vous avais laissé <a href="http://www.pikolint.org/~clark/blog/?2005/03/18/140-linux-et-world-of-warcraft-le-retour-de-la-vengeance" hreflang="fr" title="Linux et World of Warcraft, le retour de la vengeance">sur une victoire écrasante</a>, mais la joie a été de courte durée. En effet, je n'ai pas trop le temps de jouer ces temps-ci (rapport au <a href="http://www.pikolint.org/~clark/blog/?2005/03/18/141-demenagement" hreflang="fr">déménagement</a>), mais j'ai tout juste eu le temps de télécharger la mise à jour...</p>\r\n\r\n<p>Et là, malheur, plus rien ne marche. Je n'ai <a href="http://bugs.winehq.org/show_bug.cgi?id=2814" hreflang="en">pas trop compris pourquoi</a>, mais en tout cas, plantage dès le démarrage avec un méchant :</p>\r\n\r\n<p><code>\r\nERROR #132 (0x85100084)<br/>\r\nProgram:   C:\Program Files\World of Warcraft\WoW.exe<br/>\r\nException:   0xC0000005 (ACCESS_VIOLATION) at 0073:77520817<br/>\r\n<br/>\r\nThe instruction at "0x77520817" referenced memory at "0x00000084".<br/>\r\nThe memory could not be "read".<br/>\r\n</code></p>\r\n\r\n<p>Il faut faire contre mauvaise fortune bon coeur... Je me renseigne donc, et il apparrait qu'il y a <a href="http://www.neowin.net/forum/lofiversion/index.php/t299644.html" hreflang="en">déjà un patch de sorti</a> (bon, c'est vrai cela fait maintenant une semaine que la mise à jour est sortie, et les gens de wine sont connus pour leur réactivité). Je vais donc tenter de mettre à jour wine par <acronym lang="en" title="Concurrent Version System">CVS</acronym> pour avoir la dernière version à jour. J'utilise pour cela <a href="http://winehq.com/site/cvs#ftpcvs" hreflang="en" title="Getting Wine via FTP and converting to CVS">une technique décrite sur le site de wine</a> qui permet de passer d'un dossier téléchargé par FTP (si vous avez <a href="http://www.pikolint.org/~clark/blog/?2005/03/18/140-linux-et-world-of-warcraft-le-retour-de-la-vengeance" hreflang="fr">suivi mes indications</a>, vous en êtes là), et de le convertir en CVS. Cela évite de passer des heures à dialoguer avec le serveur CVS qui n'est pas fait pour ça. Vous devriez donc faire quelque chose comme :</p>\r\n\r\n<p>\r\n<kbd>cd temporaire/wine</kbd> (le répertoire dans lequel vous aviez téléchargé <em>wine-20050310.tar.gz</em>.)<br/>\r\n<kbd>mv wine-20050310 wine</kbd><br/>\r\n<kbd>wget ftp://ftp.winehq.org/pub/wine/wine-cvsdirs-20050310.tar.gz </kbd><br/>\r\n<kbd>tar xzf wine-cvsdirs-20050310.tar.gz</kbd><br/>\r\n<kbd>cd wine</kbd><br/>\r\n<kbd>export CVSROOT=:pserver:cvs@rhlx01.fht-esslingen.de:/home/wine</kbd><br/>\r\n<kbd>cvs login</kbd> (avec 'cvs' sans les guillemets comme mot de passe)<br/> \r\n<kbd>cvs update -PAd</kbd><br/>\r\n</p>\r\n\r\n<p>Une fois que vous avez fait cela, vous devriez pouvoir refaire la procédure habituelle :</p>\r\n\r\n<p>\r\n<kbd>./configure --enable-opengl</kbd><br/>\r\n<kbd>./tools/wineinstall</kbd><br/>\r\n</p>\r\n\r\n<p>Bon, ceci dit, il faut quand même passer un patch tant que ceux-ci n'ont pas été intégrés à la branche de développement. Vous pouvez trouver le dernier patch (qui a l'air de marcher) sur <a href="http://bugs.winehq.org/show_bug.cgi?id=2814" hreflang="en">le rapport de bug chez WineHQ</a>. Pour le passer, il faut être à la racine (c'est bon si vous n'avez pas fermé votre fenêtre de terminal) et taper <kbd>patch -p1 < opengl32_fbconf_4.diff</kbd>. Seulement ensuite, vous pouvez faire la procédure wineinstall décrite ce-dessus.</p>\r\n\r\n<p>Avec la toute dernière version de WoW (la 1.4.2) je crois est apparu un nouveau soucis assez fun (ou pas) : il faut activeX pour l'installation, ce qui pose évidemment certaines soucis sous Linux (quoi que). Aussi débile que cela puisse paraître, il vous faut donc installer <a href="http://www.mozilla.org/releases/#1.7.7" hreflang="en">Mozilla pour Windows</a> à travers wine (oui oui, même s'il est déjà installé en binaire linux), et ensuite installer les <a href="http://www.iol.ie/~locka/mozilla/mozilla.htm" hreflang="en">activeX pour Mozilla</a> (toujours avec wine).</p>\r\n\r\n<p>Le deuxième souci qui est apparu avec cette version (et je crois toujours pour le activeX) est la nécessité d'avoir des dll supplémentaires installées. C'est aussi votre souci si vous avez un message du style <code>err:module:import_dll Library MSVCRT.dll (which is needed by</code>. Il est relativement simple de <a href="http://www.winehq.org/hypermail/wine-users/2004/11/0221.html" hreflang="en">s'en sortir</a> avec <a href="http://www.linuxquestions.org/questions/archive/5/2004/10/2/203994\r\nhttp://forums.gentoo.org/viewtopic-t-246098.html" hreflang="en">un peu d'aide</a>.</p>\r\n\r\n<p><em>Note 1</em>: un <a href="http://sourceforge.net/mailarchive/message.php?msg_id=6200731" hreflang="en">forum</a> et <a href="http://www.pikolint.org/~clark/blog/?2005/03/18/140-linux-et-world-of-warcraft-le-retour-de-la-vengeance#c105" hreflang="fr">Flash</a> ont attiré mon attention sur le fait qu'il faut peut être certaines autres librairies.</p>\r\n\r\n<p><em>Note 2</em>: si vous cherchez plus d'infos sur World of Warcraft sur Cedega, vous pouvez trouver des infos assez bien faites <a href="http://www.pcinpact.com/articles/d/51/1.htm" hreflang="fr" title="WoW sous Linux">sur le nainternet</a>.</p>\r\n\r\n<p><em>Note 3</em>: une autre <a href="http://forums.gentoo.org/viewtopic-t-246098.html" hreflang="en">excellente documentation sur WoW et Linux</a> est disponible sur les Forums Gentoo.</p>
