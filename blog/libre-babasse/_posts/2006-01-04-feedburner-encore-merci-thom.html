---
title: Feedburner encore (merci Thom)
---

<p>Sur la mise en avant des risques de dépendance par <a href="http://laurent.cottereau.name/blog/?2005/12/23/190-demenagement-et-feedburner#c272" hreflang="fr">un certain acariâtre</a> (voir aussi <a href="http://www.w3.org/Provider/Style/URI" hreflang="en"><cite lang="en">Cool URIs don't change</cite></a> à ce propos), en partant d'un <a href="http://www.stopdesign.com/log/2005/04/20/feedburning.html" hreflang="en" title="Feedburning">exemple proposé par Douglas Bowman</a>, et en consultant l'abondante <a href="http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html#RewriteRule" hreflang="en">documentation du module Apache mod_rewrite</a>, j'ai remis à plat l'utilisation des flux de mon site.</p>\r\n\r\n<p>Il y a donc maintenant deux flux privilégiés :</p>\r\n\r\n<ul>\r\n<li><a href="http://laurent.cottereau.name/blog/articles-feed.xml" hreflang="fr"><em>articles-feed.xml</em></a> est le flux des billets de ce blog.</li>\r\n<li><a href="http://laurent.cottereau.name/blog/comments-feed.xml" hreflang="fr"><em>comments-feed.xml</em></a> est le flux des commentaires de ce blog.</li>\r\n</ul>\r\n\r\n<p>Ces deux flux renvoient vers <a href="http://laurent.cottereau.name/blog/?2005/12/23/190-demenagement-et-feedburner" hreflang="fr" title="Déménagement et FeedBurner">FeedBurner</a>, ainsi que les anciens flux (ceux proposés par Dotclear donc). Le flux géré par <a href="http://www.dotclear.net/forum/viewtopic.php?id=13328" hreflang="fr">Spamplemousse</a> (pour la file de modération) est en direct sur le site. Enfin, pour palier à d'éventuels besoins (dont la possibilité de suivre les commentaires d'un article en particulier ou encore les articles d'une catégorie seulement comme pour <a href="http://planet.april.org" hreflang="fr" title="Aggrégateurs de blogs de membres de l'APRIL">Planète April</a>), j'ai mis en place des liens directs vers les flux Dotclear, qui ne sont pas redirigés vers FeedBurner (il suffit d'ajouter le paramètre <code>access=direct</code> dans la requête).</p>\r\n\r\n<p>Pour ceux que ça intéresse, vous pouvez trouver ci-dessous le contenu du fichier <code>.htaccess</code> situé à la racine de mon blog. Ce fichier nécessite l'utilisation du module apache <code>mod_rewrite</code>.</p>\r\n\r\n<p><code>\r\nRewriteEngine on<br/>\r\n<br/>\r\n# Flux virtuels<br/>\r\nRewriteRule ^articles-feed\.xml$ atom.php<br/>\r\nRewriteRule ^comments-feed\.xml$ atom.php?type=co<br/>\r\n<br/>\r\n# Flux d'articles de Dotclear (sauf pour spamplemousse<br/>\r\n# et un type "direct" qui permet de passer au travers)<br/>\r\nRewriteCond %{QUERY_STRING} !type=spam<br/>\r\nRewriteCond %{QUERY_STRING} !access=direct<br/>\r\nRewriteCond %{QUERY_STRING} !post=<br/>\r\nRewriteRule ^(atom|rss)\.php$ http://feeds.feedburner.com/ClarkysCorner<br/>\r\n<br/>\r\n# Flux de commentaires<br/>\r\nRewriteCond %{QUERY_STRING} type=co<br/>\r\nRewriteCond %{QUERY_STRING} !access=direct<br/>\r\nRewriteCond %{QUERY_STRING} !post=<br/>\r\nRewriteRule (.*) -Commentaires? [R]<br/>\r\n</code></p>
